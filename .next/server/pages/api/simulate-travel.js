"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/simulate-travel";
exports.ids = ["pages/api/simulate-travel"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimulate-travel&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsimulate-travel.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimulate-travel&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsimulate-travel.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_simulate_travel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/simulate-travel.js */ \"(api)/./pages/api/simulate-travel.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_simulate_travel_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_simulate_travel_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/simulate-travel\",\n        pathname: \"/api/simulate-travel\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_simulate_travel_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNpbXVsYXRlLXRyYXZlbCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGc2ltdWxhdGUtdHJhdmVsLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzJEO0FBQzNEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGVubmFwcHMtcHJvamVjdC8/M2FhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3NpbXVsYXRlLXRyYXZlbC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NpbXVsYXRlLXRyYXZlbFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NpbXVsYXRlLXRyYXZlbFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimulate-travel&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsimulate-travel.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/simulate-travel.js":
/*!**************************************!*\
  !*** ./pages/api/simulate-travel.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// In-memory storage for simulation\nlet currentLocation = null;\nlet previousLocation = null;\n// Function to fetch real anomaly data from backend\nconst fetchRealAnomalyData = async (countryCode)=>{\n    try {\n        const response = await fetch(`http://localhost:8000/api/anomalies/${countryCode}`);\n        if (!response.ok) {\n            throw new Error(`Failed to fetch anomaly data: ${response.status}`);\n        }\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(\"Error fetching real anomaly data:\", error);\n        return null;\n    }\n};\n// Function to convert real anomaly data to alert format\nconst convertAnomalyToAlerts = (anomalyData)=>{\n    if (!anomalyData) return null;\n    const alerts = [];\n    // Add anomaly alert if there's unusual activity\n    if (anomalyData.is_anomaly) {\n        alerts.push({\n            id: \"news-anomaly\",\n            title: \"Unusual News Activity Detected\",\n            level: \"critical\",\n            message: `${anomalyData.spike_factor}x more travel news than normal (${anomalyData.current_count} articles)`,\n            details: `Baseline: ${anomalyData.baseline} articles/hour. Current spike indicates significant travel-related developments.`,\n            spike_factor: anomalyData.spike_factor,\n            current_count: anomalyData.current_count\n        });\n    } else {\n        alerts.push({\n            id: \"normal-activity\",\n            title: \"Normal News Activity\",\n            level: \"info\",\n            message: \"No unusual travel news activity detected\",\n            details: `Current activity: ${anomalyData.current_count} articles (baseline: ${anomalyData.baseline}/hour)`,\n            spike_factor: anomalyData.spike_factor,\n            current_count: anomalyData.current_count\n        });\n    }\n    // Add headlines as additional alerts\n    if (anomalyData.top_headlines && anomalyData.top_headlines.length > 0) {\n        anomalyData.top_headlines.forEach((headline, index)=>{\n            alerts.push({\n                id: `headline-${index}`,\n                title: \"Recent News\",\n                level: \"warning\",\n                message: headline.title,\n                details: `Source: ${headline.source}`,\n                url: headline.url\n            });\n        });\n    }\n    return {\n        country: anomalyData.country_name,\n        flag: anomalyData.flag,\n        alerts: alerts,\n        anomaly_data: anomalyData\n    };\n};\nasync function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { countryCode, action } = req.body;\n        if (action === \"setLocation\") {\n            previousLocation = currentLocation;\n            currentLocation = countryCode;\n            // Check if location changed\n            const locationChanged = previousLocation !== currentLocation;\n            let alerts = null;\n            if (locationChanged) {\n                // Fetch real anomaly data from backend\n                const anomalyData = await fetchRealAnomalyData(countryCode);\n                alerts = convertAnomalyToAlerts(anomalyData);\n            }\n            res.status(200).json({\n                success: true,\n                currentLocation,\n                previousLocation,\n                locationChanged,\n                alerts,\n                message: locationChanged ? `Location changed from ${previousLocation || \"unknown\"} to ${countryCode}` : `Location set to ${countryCode}`\n            });\n        } else if (action === \"getLocation\") {\n            res.status(200).json({\n                success: true,\n                currentLocation,\n                previousLocation\n            });\n        } else if (action === \"getAlerts\") {\n            let alerts = null;\n            if (currentLocation) {\n                const anomalyData = await fetchRealAnomalyData(currentLocation);\n                alerts = convertAnomalyToAlerts(anomalyData);\n            }\n            res.status(200).json({\n                success: true,\n                alerts,\n                currentLocation\n            });\n        } else {\n            res.status(400).json({\n                success: false,\n                message: \"Invalid action\"\n            });\n        }\n    } else if (req.method === \"GET\") {\n        res.status(200).json({\n            success: true,\n            currentLocation,\n            previousLocation,\n            availableCountries: [\n                \"NP\",\n                \"IT\",\n                \"RU\"\n            ] // These are the countries monitored by the backend\n        });\n    } else {\n        res.status(405).json({\n            success: false,\n            message: \"Method not allowed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2ltdWxhdGUtdHJhdmVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxtQ0FBbUM7QUFDbkMsSUFBSUEsa0JBQWtCO0FBQ3RCLElBQUlDLG1CQUFtQjtBQUV2QixtREFBbUQ7QUFDbkQsTUFBTUMsdUJBQXVCLE9BQU9DO0lBQ2xDLElBQUk7UUFDRixNQUFNQyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxvQ0FBb0MsRUFBRUYsWUFBWSxDQUFDO1FBQ2pGLElBQUksQ0FBQ0MsU0FBU0UsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDhCQUE4QixFQUFFSCxTQUFTSSxNQUFNLENBQUMsQ0FBQztRQUNwRTtRQUNBLE1BQU1DLE9BQU8sTUFBTUwsU0FBU00sSUFBSTtRQUNoQyxPQUFPRDtJQUNULEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMscUNBQXFDQTtRQUNuRCxPQUFPO0lBQ1Q7QUFDRjtBQUVBLHdEQUF3RDtBQUN4RCxNQUFNRSx5QkFBeUIsQ0FBQ0M7SUFDOUIsSUFBSSxDQUFDQSxhQUFhLE9BQU87SUFFekIsTUFBTUMsU0FBUyxFQUFFO0lBRWpCLGdEQUFnRDtJQUNoRCxJQUFJRCxZQUFZRSxVQUFVLEVBQUU7UUFDMUJELE9BQU9FLElBQUksQ0FBQztZQUNWQyxJQUFJO1lBQ0pDLE9BQU87WUFDUEMsT0FBTztZQUNQQyxTQUFTLENBQUMsRUFBRVAsWUFBWVEsWUFBWSxDQUFDLGdDQUFnQyxFQUFFUixZQUFZUyxhQUFhLENBQUMsVUFBVSxDQUFDO1lBQzVHQyxTQUFTLENBQUMsVUFBVSxFQUFFVixZQUFZVyxRQUFRLENBQUMsZ0ZBQWdGLENBQUM7WUFDNUhILGNBQWNSLFlBQVlRLFlBQVk7WUFDdENDLGVBQWVULFlBQVlTLGFBQWE7UUFDMUM7SUFDRixPQUFPO1FBQ0xSLE9BQU9FLElBQUksQ0FBQztZQUNWQyxJQUFJO1lBQ0pDLE9BQU87WUFDUEMsT0FBTztZQUNQQyxTQUFTO1lBQ1RHLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRVYsWUFBWVMsYUFBYSxDQUFDLHFCQUFxQixFQUFFVCxZQUFZVyxRQUFRLENBQUMsTUFBTSxDQUFDO1lBQzNHSCxjQUFjUixZQUFZUSxZQUFZO1lBQ3RDQyxlQUFlVCxZQUFZUyxhQUFhO1FBQzFDO0lBQ0Y7SUFFQSxxQ0FBcUM7SUFDckMsSUFBSVQsWUFBWVksYUFBYSxJQUFJWixZQUFZWSxhQUFhLENBQUNDLE1BQU0sR0FBRyxHQUFHO1FBQ3JFYixZQUFZWSxhQUFhLENBQUNFLE9BQU8sQ0FBQyxDQUFDQyxVQUFVQztZQUMzQ2YsT0FBT0UsSUFBSSxDQUFDO2dCQUNWQyxJQUFJLENBQUMsU0FBUyxFQUFFWSxNQUFNLENBQUM7Z0JBQ3ZCWCxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxTQUFTUSxTQUFTVixLQUFLO2dCQUN2QkssU0FBUyxDQUFDLFFBQVEsRUFBRUssU0FBU0UsTUFBTSxDQUFDLENBQUM7Z0JBQ3JDQyxLQUFLSCxTQUFTRyxHQUFHO1lBQ25CO1FBQ0Y7SUFDRjtJQUVBLE9BQU87UUFDTEMsU0FBU25CLFlBQVlvQixZQUFZO1FBQ2pDQyxNQUFNckIsWUFBWXFCLElBQUk7UUFDdEJwQixRQUFRQTtRQUNScUIsY0FBY3RCO0lBQ2hCO0FBQ0Y7QUFFZSxlQUFldUIsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE1BQU0sRUFBRXJDLFdBQVcsRUFBRXNDLE1BQU0sRUFBRSxHQUFHSCxJQUFJSSxJQUFJO1FBRXhDLElBQUlELFdBQVcsZUFBZTtZQUM1QnhDLG1CQUFtQkQ7WUFDbkJBLGtCQUFrQkc7WUFFbEIsNEJBQTRCO1lBQzVCLE1BQU13QyxrQkFBa0IxQyxxQkFBcUJEO1lBRTdDLElBQUllLFNBQVM7WUFDYixJQUFJNEIsaUJBQWlCO2dCQUNuQix1Q0FBdUM7Z0JBQ3ZDLE1BQU03QixjQUFjLE1BQU1aLHFCQUFxQkM7Z0JBQy9DWSxTQUFTRix1QkFBdUJDO1lBQ2xDO1lBRUF5QixJQUFJL0IsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztnQkFDbkJrQyxTQUFTO2dCQUNUNUM7Z0JBQ0FDO2dCQUNBMEM7Z0JBQ0E1QjtnQkFDQU0sU0FBU3NCLGtCQUNMLENBQUMsc0JBQXNCLEVBQUUxQyxvQkFBb0IsVUFBVSxJQUFJLEVBQUVFLFlBQVksQ0FBQyxHQUMxRSxDQUFDLGdCQUFnQixFQUFFQSxZQUFZLENBQUM7WUFDdEM7UUFDRixPQUFPLElBQUlzQyxXQUFXLGVBQWU7WUFDbkNGLElBQUkvQixNQUFNLENBQUMsS0FBS0UsSUFBSSxDQUFDO2dCQUNuQmtDLFNBQVM7Z0JBQ1Q1QztnQkFDQUM7WUFDRjtRQUNGLE9BQU8sSUFBSXdDLFdBQVcsYUFBYTtZQUNqQyxJQUFJMUIsU0FBUztZQUNiLElBQUlmLGlCQUFpQjtnQkFDbkIsTUFBTWMsY0FBYyxNQUFNWixxQkFBcUJGO2dCQUMvQ2UsU0FBU0YsdUJBQXVCQztZQUNsQztZQUNBeUIsSUFBSS9CLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7Z0JBQ25Ca0MsU0FBUztnQkFDVDdCO2dCQUNBZjtZQUNGO1FBQ0YsT0FBTztZQUNMdUMsSUFBSS9CLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7Z0JBQUVrQyxTQUFTO2dCQUFPdkIsU0FBUztZQUFpQjtRQUNuRTtJQUNGLE9BQU8sSUFBSWlCLElBQUlFLE1BQU0sS0FBSyxPQUFPO1FBQy9CRCxJQUFJL0IsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztZQUNuQmtDLFNBQVM7WUFDVDVDO1lBQ0FDO1lBQ0E0QyxvQkFBb0I7Z0JBQUM7Z0JBQU07Z0JBQU07YUFBSyxDQUFDLG1EQUFtRDtRQUM1RjtJQUNGLE9BQU87UUFDTE4sSUFBSS9CLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7WUFBRWtDLFNBQVM7WUFBT3ZCLFNBQVM7UUFBcUI7SUFDdkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Blbm5hcHBzLXByb2plY3QvLi9wYWdlcy9hcGkvc2ltdWxhdGUtdHJhdmVsLmpzP2RkNmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW4tbWVtb3J5IHN0b3JhZ2UgZm9yIHNpbXVsYXRpb25cbmxldCBjdXJyZW50TG9jYXRpb24gPSBudWxsO1xubGV0IHByZXZpb3VzTG9jYXRpb24gPSBudWxsO1xuXG4vLyBGdW5jdGlvbiB0byBmZXRjaCByZWFsIGFub21hbHkgZGF0YSBmcm9tIGJhY2tlbmRcbmNvbnN0IGZldGNoUmVhbEFub21hbHlEYXRhID0gYXN5bmMgKGNvdW50cnlDb2RlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS9hbm9tYWxpZXMvJHtjb3VudHJ5Q29kZX1gKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBhbm9tYWx5IGRhdGE6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlYWwgYW5vbWFseSBkYXRhOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuLy8gRnVuY3Rpb24gdG8gY29udmVydCByZWFsIGFub21hbHkgZGF0YSB0byBhbGVydCBmb3JtYXRcbmNvbnN0IGNvbnZlcnRBbm9tYWx5VG9BbGVydHMgPSAoYW5vbWFseURhdGEpID0+IHtcbiAgaWYgKCFhbm9tYWx5RGF0YSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgYWxlcnRzID0gW107XG4gIFxuICAvLyBBZGQgYW5vbWFseSBhbGVydCBpZiB0aGVyZSdzIHVudXN1YWwgYWN0aXZpdHlcbiAgaWYgKGFub21hbHlEYXRhLmlzX2Fub21hbHkpIHtcbiAgICBhbGVydHMucHVzaCh7XG4gICAgICBpZDogXCJuZXdzLWFub21hbHlcIixcbiAgICAgIHRpdGxlOiBcIlVudXN1YWwgTmV3cyBBY3Rpdml0eSBEZXRlY3RlZFwiLFxuICAgICAgbGV2ZWw6IFwiY3JpdGljYWxcIixcbiAgICAgIG1lc3NhZ2U6IGAke2Fub21hbHlEYXRhLnNwaWtlX2ZhY3Rvcn14IG1vcmUgdHJhdmVsIG5ld3MgdGhhbiBub3JtYWwgKCR7YW5vbWFseURhdGEuY3VycmVudF9jb3VudH0gYXJ0aWNsZXMpYCxcbiAgICAgIGRldGFpbHM6IGBCYXNlbGluZTogJHthbm9tYWx5RGF0YS5iYXNlbGluZX0gYXJ0aWNsZXMvaG91ci4gQ3VycmVudCBzcGlrZSBpbmRpY2F0ZXMgc2lnbmlmaWNhbnQgdHJhdmVsLXJlbGF0ZWQgZGV2ZWxvcG1lbnRzLmAsXG4gICAgICBzcGlrZV9mYWN0b3I6IGFub21hbHlEYXRhLnNwaWtlX2ZhY3RvcixcbiAgICAgIGN1cnJlbnRfY291bnQ6IGFub21hbHlEYXRhLmN1cnJlbnRfY291bnRcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBhbGVydHMucHVzaCh7XG4gICAgICBpZDogXCJub3JtYWwtYWN0aXZpdHlcIixcbiAgICAgIHRpdGxlOiBcIk5vcm1hbCBOZXdzIEFjdGl2aXR5XCIsXG4gICAgICBsZXZlbDogXCJpbmZvXCIsXG4gICAgICBtZXNzYWdlOiBcIk5vIHVudXN1YWwgdHJhdmVsIG5ld3MgYWN0aXZpdHkgZGV0ZWN0ZWRcIixcbiAgICAgIGRldGFpbHM6IGBDdXJyZW50IGFjdGl2aXR5OiAke2Fub21hbHlEYXRhLmN1cnJlbnRfY291bnR9IGFydGljbGVzIChiYXNlbGluZTogJHthbm9tYWx5RGF0YS5iYXNlbGluZX0vaG91cilgLFxuICAgICAgc3Bpa2VfZmFjdG9yOiBhbm9tYWx5RGF0YS5zcGlrZV9mYWN0b3IsXG4gICAgICBjdXJyZW50X2NvdW50OiBhbm9tYWx5RGF0YS5jdXJyZW50X2NvdW50XG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgaGVhZGxpbmVzIGFzIGFkZGl0aW9uYWwgYWxlcnRzXG4gIGlmIChhbm9tYWx5RGF0YS50b3BfaGVhZGxpbmVzICYmIGFub21hbHlEYXRhLnRvcF9oZWFkbGluZXMubGVuZ3RoID4gMCkge1xuICAgIGFub21hbHlEYXRhLnRvcF9oZWFkbGluZXMuZm9yRWFjaCgoaGVhZGxpbmUsIGluZGV4KSA9PiB7XG4gICAgICBhbGVydHMucHVzaCh7XG4gICAgICAgIGlkOiBgaGVhZGxpbmUtJHtpbmRleH1gLFxuICAgICAgICB0aXRsZTogXCJSZWNlbnQgTmV3c1wiLFxuICAgICAgICBsZXZlbDogXCJ3YXJuaW5nXCIsXG4gICAgICAgIG1lc3NhZ2U6IGhlYWRsaW5lLnRpdGxlLFxuICAgICAgICBkZXRhaWxzOiBgU291cmNlOiAke2hlYWRsaW5lLnNvdXJjZX1gLFxuICAgICAgICB1cmw6IGhlYWRsaW5lLnVybFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNvdW50cnk6IGFub21hbHlEYXRhLmNvdW50cnlfbmFtZSxcbiAgICBmbGFnOiBhbm9tYWx5RGF0YS5mbGFnLFxuICAgIGFsZXJ0czogYWxlcnRzLFxuICAgIGFub21hbHlfZGF0YTogYW5vbWFseURhdGFcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xuICAgIGNvbnN0IHsgY291bnRyeUNvZGUsIGFjdGlvbiB9ID0gcmVxLmJvZHk7XG4gICAgXG4gICAgaWYgKGFjdGlvbiA9PT0gJ3NldExvY2F0aW9uJykge1xuICAgICAgcHJldmlvdXNMb2NhdGlvbiA9IGN1cnJlbnRMb2NhdGlvbjtcbiAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGNvdW50cnlDb2RlO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBsb2NhdGlvbiBjaGFuZ2VkXG4gICAgICBjb25zdCBsb2NhdGlvbkNoYW5nZWQgPSBwcmV2aW91c0xvY2F0aW9uICE9PSBjdXJyZW50TG9jYXRpb247XG4gICAgICBcbiAgICAgIGxldCBhbGVydHMgPSBudWxsO1xuICAgICAgaWYgKGxvY2F0aW9uQ2hhbmdlZCkge1xuICAgICAgICAvLyBGZXRjaCByZWFsIGFub21hbHkgZGF0YSBmcm9tIGJhY2tlbmRcbiAgICAgICAgY29uc3QgYW5vbWFseURhdGEgPSBhd2FpdCBmZXRjaFJlYWxBbm9tYWx5RGF0YShjb3VudHJ5Q29kZSk7XG4gICAgICAgIGFsZXJ0cyA9IGNvbnZlcnRBbm9tYWx5VG9BbGVydHMoYW5vbWFseURhdGEpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgcHJldmlvdXNMb2NhdGlvbixcbiAgICAgICAgbG9jYXRpb25DaGFuZ2VkLFxuICAgICAgICBhbGVydHMsXG4gICAgICAgIG1lc3NhZ2U6IGxvY2F0aW9uQ2hhbmdlZCBcbiAgICAgICAgICA/IGBMb2NhdGlvbiBjaGFuZ2VkIGZyb20gJHtwcmV2aW91c0xvY2F0aW9uIHx8ICd1bmtub3duJ30gdG8gJHtjb3VudHJ5Q29kZX1gXG4gICAgICAgICAgOiBgTG9jYXRpb24gc2V0IHRvICR7Y291bnRyeUNvZGV9YFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdnZXRMb2NhdGlvbicpIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgICBwcmV2aW91c0xvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2dldEFsZXJ0cycpIHtcbiAgICAgIGxldCBhbGVydHMgPSBudWxsO1xuICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICBjb25zdCBhbm9tYWx5RGF0YSA9IGF3YWl0IGZldGNoUmVhbEFub21hbHlEYXRhKGN1cnJlbnRMb2NhdGlvbik7XG4gICAgICAgIGFsZXJ0cyA9IGNvbnZlcnRBbm9tYWx5VG9BbGVydHMoYW5vbWFseURhdGEpO1xuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBhbGVydHMsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvblxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdJbnZhbGlkIGFjdGlvbicgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgIHByZXZpb3VzTG9jYXRpb24sXG4gICAgICBhdmFpbGFibGVDb3VudHJpZXM6IFsnTlAnLCAnSVQnLCAnUlUnXSAvLyBUaGVzZSBhcmUgdGhlIGNvdW50cmllcyBtb25pdG9yZWQgYnkgdGhlIGJhY2tlbmRcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImN1cnJlbnRMb2NhdGlvbiIsInByZXZpb3VzTG9jYXRpb24iLCJmZXRjaFJlYWxBbm9tYWx5RGF0YSIsImNvdW50cnlDb2RlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImNvbnZlcnRBbm9tYWx5VG9BbGVydHMiLCJhbm9tYWx5RGF0YSIsImFsZXJ0cyIsImlzX2Fub21hbHkiLCJwdXNoIiwiaWQiLCJ0aXRsZSIsImxldmVsIiwibWVzc2FnZSIsInNwaWtlX2ZhY3RvciIsImN1cnJlbnRfY291bnQiLCJkZXRhaWxzIiwiYmFzZWxpbmUiLCJ0b3BfaGVhZGxpbmVzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImhlYWRsaW5lIiwiaW5kZXgiLCJzb3VyY2UiLCJ1cmwiLCJjb3VudHJ5IiwiY291bnRyeV9uYW1lIiwiZmxhZyIsImFub21hbHlfZGF0YSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJhY3Rpb24iLCJib2R5IiwibG9jYXRpb25DaGFuZ2VkIiwic3VjY2VzcyIsImF2YWlsYWJsZUNvdW50cmllcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/simulate-travel.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimulate-travel&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsimulate-travel.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();